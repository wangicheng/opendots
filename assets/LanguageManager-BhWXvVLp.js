class s{static instance;currentLang="en";locales={};listeners=[];constructor(){this.currentLang=localStorage.getItem("opendots_language")||"en"}static getInstance(){return s.instance||(s.instance=new s),s.instance}registerLocale(t,e){this.locales[t]=e}setLanguage(t){this.currentLang!==t&&(this.currentLang=t,localStorage.setItem("opendots_language",t),this.notifyListeners())}getCurrentLanguage(){return this.currentLang}getAvailableLanguages(){return Object.keys(this.locales)}t(t){const e=this.locales[this.currentLang];return e&&e[t]?e[t]:this.currentLang!=="en"&&this.locales.en&&this.locales.en[t]?this.locales.en[t]:t}subscribe(t){this.listeners.push(t)}unsubscribe(t){this.listeners=this.listeners.filter(e=>e!==t)}notifyListeners(){this.listeners.forEach(t=>t())}}export{s as LanguageManager};
